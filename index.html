<!DOCTYPE html>
<html>
<head>
    <script src="SignalGO.js"></script>
</head>
<body>
    <h1>SignalGO Tester</h1>
    <script>
        var provider = new ClientProvider();
        var service;
        var setting = new ConnectionSettings();

        provider.InitializeConnectionSettings(setting);


        setting.addPriorityFunction(function () {
            return provider.RegisterService('ServiceName', ['HelloWorld', 'Sum'], function (providerService) {
                service = providerService;
            });
        });
        setting.addPriorityFunction(function () {
            return service.HelloWorld("ali", function (x) {
                console.log(x);
            });
        });
        setting.addPriorityFunction(function () {
            return service.Sum(11, 12, function (x) {
                console.log(x);
            });
        });

        provider.Connect('ws://localhost:9752/SignalGoTestService', provider, function () {

        });

        var callback = provider.RegisterCallbackService("CallbackServiceName");

        callback.ReceivedMessage = function (response) {
            console.log("ReceivedMessage is called: " + response);
        };
    </script>
</body>
</html>